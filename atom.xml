<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hexo</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2023-06-14T08:35:28.000Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>musiyu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>spark</title>
    <link href="http://example.com/wiki/spark/"/>
    <id>http://example.com/wiki/spark/</id>
    <published>2023-06-14T07:54:56.000Z</published>
    <updated>2023-06-14T08:35:28.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>（**</strong>1<strong><strong>）</strong></strong>Mysql<strong>**安装</strong></p><p>1）卸载Centos7自带的mariadb</p><p><img src="../images/1.png" alt="1.png"></p><p>如果出现了mariadb-libs-5.5.64-1.el7.x86_64，输入rpm -e mariadb- libs-5.5.64-1.el7.x86_64 –nodeps,在输入rpm -qa|grep mariadb，即可</p><p>2）安装mysql</p><p>新建文件夹：mkdir /export/server/mysql</p><p>上传mysql-5.7.29-1.el7.x86_64.rpm-bundle.tar到上述文件夹下，解压tar xvf mysql-5.7.29-1.el7.x86_64.rpm-bundle.tar</p><p><img src="../images/2.png" alt></p><p>3）执行安装</p><p>yum -y install libaio</p><p><img src="../images/clip_image006.png" alt="abd06908317f6b5398c0a7c9ae9dd76"></p><p><img src="../images/clip_image008.png" alt="454c9144e1f21bfff12f67a83a6944a"></p><p>4）mysql初始化设置</p><p>初始化：mysqld –initialize</p><p>更改所属组：chown mysql:mysql /var/lib/mysql -R</p><p>启动mysql：systemctl start mysqld.service</p><p><img src="../images/clip_image010.png" alt="9858a16cfe52ad40290fa55e28c7ac2"></p><p>查看临时生成的root密码：cat /var/log/mysqld.log</p><p><img src="../images/clip_image012.png" alt="f96deeff1a71ab0ef4d8271d31f9175"></p><p>5）修改root密码 授权远程访问 设置开机自启动</p><p><img src="../images/clip_image014.png" alt="d6eb124d4590c25b5b64749d77d7cf7"></p><p>修改root密码 设置为hadoop</p><p><img src="../images/clip_image016.png" alt="8a3b173da0c2c7942874443a8befa78"></p><p>授权</p><p>use mysql;</p><p>GRANT ALL PRIVILEGES ON <em>.</em> TO ‘root‘@’%’ IDENTIFIED BY ‘hadoop’ WITH GRANT OPTION;</p><p>FLUSH PRIVILEGES;</p><p><img src="../images/clip_image018.png" alt="1d3084441fa6948165f881a53cb02aa"></p><p>mysql的启动和关闭 状态查看 （这几个命令必须记住）</p><p>systemctl stop mysqld</p><p>systemctl status mysqld</p><p>systemctl start mysqld</p><p>设置开机自动启动：systemctl enable mysqld </p><p>查看是否设置自动启动成功</p><p><img src="../images/clip_image020.png" alt="1ad6ed97e85b922d72e59c39a2aaffc"></p><p><strong>（**</strong>2<strong><strong>）</strong></strong>Hive<strong>**的安装</strong></p><p>1）上传安装包 解压</p><p>tar zxvf apache-hive-3.1.2-bin.tar.gz</p><p>ln -s apache-hive-3.1.2-bin hive</p><p>2）解决Hive与Hadoop之间guava版本差异</p><p>cd /export/server/hive/</p><p>rm -rf lib/guava-19.0.jar</p><p>cp /export/server/hadoop/share/hadoop/common/lib/guava-27.0-jre.jar</p><p> ./lib/</p><p><img src="../images/clip_image022.png" alt="a6b544f3e19019be5033bf694e63100"></p><p>3）修改配置文件</p><p>hive-env.sh</p><p>cd /export/server/hive/conf</p><p>mv hive-env.sh.template hive-env.sh</p><p>vim hive-env.sh</p><p>export HADOOP_HOME=/export/server/hadoop</p><p>export HIVE_CONF_DIR=/export/server/hive/conf</p><p>export HIVE_AUX_JARS_PATH=/export/server/hive/lib</p><p><img src="../images/clip_image024.png" alt="c25d9937e544f1e3dae3ab154d75f4f"></p><p><img src="../images/clip_image026.png" alt="17592bb0f12829d35b16c72d8f2f5d1"></p><p>hive-site.xml</p><p>vim hive-site.xml</p><configuration><br><br><!-- 存储元数据mysql相关配置 --><br><br><property><br><br>​    <name>javax.jdo.option.ConnectionURL</name><br><br>​    <value>jdbc:mysql://node1:3306/hive3?createDatabaseIfNotExist=true&amp;useSSL=false&amp;useUnicode=true&amp;characterEncoding=UTF-8</value><br><br></property><br><br><property><br><br>​    <name>javax.jdo.option.ConnectionDriverName</name><br><br>​    <value>com.mysql.jdbc.Driver</value><br><br></property><br><br><property><br><br>​    <name>javax.jdo.option.ConnectionUserName</name><br><br>​    <value>root</value><br><br></property><br><br><property><br><br>​    <name>javax.jdo.option.ConnectionPassword</name><br><br>​    <value>hadoop</value><br><br></property><br><br><!-- H2S运行绑定host --><br><br><property><br><br>  <name>hive.server2.thrift.bind.host</name><br><br>  <value>node1</value><br><br></property><br><br><!-- 远程模式部署metastore metastore地址 --><br><br><property><br><br>  <name>hive.metastore.uris</name><br><br>  <value>thrift://node1:9083</value><br><br></property><br><br><!-- 关闭元数据存储授权 --><br><br><property><br><br>  <name>hive.metastore.event.db.notification.api.auth</name><br><br>  <value>false</value><br><br></property><br><br></configuration><p>4）上传mysql jdbc驱动到hive安装包lib下</p><p>mysql-connector-java-5.1.32.jar</p><p><img src="../images/clip_image028.png" alt="3a4dab1bba81097b499636c841b5138"></p><p>5）初始化元数据</p><p>cd /export/server/hive/</p><p>bin/schematool -initSchema -dbType mysql -verbos</p><p>初始化成功之后会在MySQL中创建74张表</p><p><img src="../images/clip_image030.png" alt="41225404abf9fc57bc00444838bcee2"></p><p>6）在hdfs创建hive存储目录（如存在则不用操作）</p><p>hadoop fs -mkdir /tmp</p><p>hadoop fs -mkdir -p /user/hive/warehouse</p><p>hadoop fs -chmod g+w /tmp</p><p>hadoop fs -chmod g+w /user/hive/warehouse</p><p>7）启动hive</p><p><strong>（**</strong>3<strong><strong>）启动</strong></strong>metastore<strong>**服务</strong> 前台启动 关闭ctrl+c</p><p>/export/server/hive/bin/hive –service metastore</p><p><img src="../images/clip_image032.png" alt="f43e1eb114b42423c231563857792f9"></p><p>前台启动开启debug日志</p><p>/export/server/hive/bin/hive –service metastore –hiveconf hive.root.logger=DEBUG,console </p><p><img src="../images/clip_image034.png" alt="bb2de8abc80b0b607baba205d42c6dd"></p><p>后台启动 进程挂起 关闭使用jps+ kill -9</p><p>nohup /export/server/hive/bin/hive –service metastore &amp;</p><p><img src="../images/clip_image036.png" alt="1e7c8e9cf08b79262078d75c94a9eb4"></p><p><strong>（**</strong>4<strong><strong>）启动</strong></strong>hiveserver2<strong>**服务</strong></p><p>nohup /export/server/hive/bin/hive –service hiveserver2 &amp;</p><p><img src="../images/clip_image038.png" alt="0cd929d758b7242189a8df87dac7316"></p><p><img src="../images/clip_image040.png" alt="de5b62560401e554a1624abbe4a9428"></p><p>beeline客户端连接</p><p>拷贝node1安装包到beeline客户端机器上（node3）</p><p>scp -r /export/server/apache-hive-3.1.2-bin/ root@node3:/export/server/</p><p><strong>（**</strong>5<strong><strong>）</strong></strong>hive<strong>**注释信息中文乱码解决</strong></p><p>以下sql语句均在mysql数据库中执行</p><p>use hivenode2;</p><p>show tables;</p><p>alter table hivenode2.COLUMNS_V2 modify column COMMENT varchar(256) character set utf8;</p><p>alter table hivenode2.TABLE_PARAMS modify column PARAM_VALUE varchar(4000) character set utf8;</p><p>alter table hivenode2.PARTITION_PARAMS modify column PARAM_VALUE varchar(4000) character set utf8 ;</p><p>alter table hivenode2.PARTITION_KEYS modify column PKEY_COMMENT varchar(4000) character set utf8;</p><p>alter table hivenode2.INDEX_PARAMS modify column PARAM_VALUE varchar(4000) character set utf8;</p><h2 id="一、Git安装"><a href="#一、Git安装" class="headerlink" title="一、Git安装"></a>一、Git安装</h2><p>（1）Git下载</p><p>核心程序</p><p><img src="../images/clip_image042.jpg" alt="img"></p><p>（2）可视化客户端</p><p><img src="../images/clip_image043.png" alt="img"></p><p>中文语言包</p><p><img src="../images/clip_image045.jpg" alt="img"></p><p>（3）初始化仓库</p><p><img src="../images/clip_image046.png" alt="img"></p><p><img src="../images/clip_image048.jpg" alt="img"></p><p>（4）添加文件，提交文件至本地仓库</p><p><img src="../images/clip_image050.jpg" alt="img"></p><p>（5）本地删除与恢复</p><p>文件选中删除，可用以下方式还原</p><p><img src="../images/clip_image052.jpg" alt="img"></p><p>（6）创建分支</p><p><img src="../images/clip_image054.jpg" alt="img"></p><p><img src="../images/clip_image056.jpg" alt="img"></p><p>（7）分支的查看切换</p><p><img src="../images/clip_image058.jpg" alt="img"></p><p><img src="../images/clip_image060.jpg" alt="img"><img src="../images/clip_image062.jpg" alt="img"></p><p>（8）标签的创建</p><p><img src="../images/clip_image064.jpg" alt="img"></p><p><img src="../images/clip_image066.jpg" alt="img"></p><p>（9）切换与删除</p><p><img src="../images/clip_image068.png" alt="img"></p><p><img src="../images/clip_image070.png" alt="img"></p><p>通过右键选中删除</p><p><strong>远程仓库</strong></p><p><img src="../images/clip_image072.jpg" alt="img"></p><p><img src="../images/clip_image074.jpg" alt="img"></p><p>（1）码云账号注册</p><p><img src="../images/clip_image076.jpg" alt="img"></p><p>填写邮箱发送验证码,然后可以注册账号,主页如下</p><p><img src="../images/clip_image078.jpg" alt="img"></p><p>（2）创建远程仓库</p><p><img src="../images/clip_image080.jpg" alt="img"></p><p>（3）把本地代码推送到远端</p><p><img src="../images/clip_image082.jpg" alt="img"></p><p><img src="../images/clip_image084.jpg" alt="img"></p><p>生成公钥私钥</p><p>ssh-keygen -t rsa</p><p>一直回车</p><p>会默认用户目录 .ssh 目录生成一个默认的id_rsa文件 和id_rsa.pub</p><p>密钥配置</p><p><img src="../images/clip_image086.jpg" alt="img"></p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><blockquote><ul><li><a href></a></li><li><a href></a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;（**&lt;/strong&gt;1&lt;strong&gt;&lt;strong&gt;）&lt;/strong&gt;&lt;/strong&gt;Mysql&lt;strong&gt;**安装&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1）卸载Centos7自带的mariadb&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;../image</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://example.com/wiki/hello-world/"/>
    <id>http://example.com/wiki/hello-world/</id>
    <published>2023-06-08T02:21:40.060Z</published>
    <updated>2023-06-08T02:21:42.000Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for</summary>
      
    
    
    
    
  </entry>
  
</feed>
